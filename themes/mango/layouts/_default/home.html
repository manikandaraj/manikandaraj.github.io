{{ define "main" }}
<div class="home-content">
    <h1>Welcome to {{ .Site.Title }}</h1>
    
    {{ if .Content }}
        <div class="home-description">
            {{ .Content }}
        </div>
    {{ end }}
    
    <div class="recent-posts">
        <h2>Recent Posts</h2>
        {{ range first 5 (where .Site.RegularPages "Type" "in" (slice "blog" "post")) }}
            <article class="post-summary">
                <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                <div class="post-meta">
                    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
                    {{ if .Params.tags }}
                        <div class="tags">
                            {{ range .Params.tags }}
                                <span class="tag">#{{ . }}</span>
                            {{ end }}
                        </div>
                    {{ end }}
                </div>
                {{ if .Params.summary }}
                    <p class="summary">{{ .Params.summary }}</p>
                {{ else }}
                    <p class="summary">{{ .Summary | truncate 150 }}</p>
                {{ end }}
            </article>
        {{ end }}
        
        <div class="view-all">
            <a href="/blog/" class="btn">View All Posts</a>
        </div>
    </div>
</div>
{{ end }}